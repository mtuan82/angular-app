<mat-card>
    <mat-card-header>
        <mat-card-title>Register</mat-card-title>
        <mat-card-subtitle>
            <mat-label *ngIf="(message | async) != ''" [style.color]="colorMsg | async">{{message | async}}</mat-label>
        </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
        <form [formGroup]="registerForm" (ngSubmit)="register()">
            <mat-form-field appearance="outline">
                <input type="email" matInput placeholder="Email" formControlName="email">
                <mat-error
                    *ngIf="this.registerForm.get('email')?.touched && this.registerForm.get('email')?.hasError('required')">
                    Email is required</mat-error>
                <mat-error
                    *ngIf="this.registerForm.get('email')?.touched && this.registerForm.get('email')?.hasError('email')">
                    Email must be a valid Email</mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <input type="text" matInput placeholder="Username" formControlName="username">
                <mat-error
                    *ngIf="this.registerForm.get('username')?.touched && this.registerForm.get('username')?.hasError('required')">
                    Username is required</mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <input type="text" matInput placeholder="First Name" formControlName="firstname">
                <mat-error
                    *ngIf="this.registerForm.get('firstname')?.touched && this.registerForm.get('firstname')?.hasError('required')">
                    First Name is required</mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <input type="text" matInput placeholder="Last Name" formControlName="lastname">
                <mat-error
                    *ngIf="this.registerForm.get('lastname')?.touched && this.registerForm.get('lastname')?.hasError('required')">
                    Last Name is required</mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <input type="text" matInput placeholder="Phone" formControlName="phone">
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Select an Role</mat-label>
                <mat-select disableRipple formControlName="role">
                    <mat-option value="Admin">Admin Role</mat-option>
                    <mat-option value="User">User Role</mat-option>
                </mat-select>
                <mat-error
                    *ngIf="this.registerForm.get('role')?.touched && this.registerForm.get('role')?.hasError('required')">
                    Role is required</mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <input type="password" matInput placeholder="Password" formControlName="password">
                <mat-error
                    *ngIf="this.registerForm.get('password')?.touched && this.registerForm.get('password')?.hasError('required')">
                    Password is required</mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <input type="password" matInput placeholder="Password Confirmation" formControlName="passwordConfirm">
                <mat-error
                    *ngIf="this.registerForm.get('passwordConfirm')?.touched && this.registerForm.get('passwordConfirm')?.hasError('required')">
                    Password Confirmation is required</mat-error>
            </mat-form-field>

            <mat-error
                *ngIf="this.registerForm.get('passwordConfirm')?.dirty && this.registerForm.hasError('passwordsNotMatching')">
                Passwords are not matching!</mat-error>
            <div class="center">
                <button mat-raised-button color="primary" type="submit">Register</button>
            </div>
        </form>
    </mat-card-content>

</mat-card>